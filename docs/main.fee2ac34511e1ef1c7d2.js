(()=>{"use strict";var e,t={4870:(e,t,r)=>{var n=r(7378),a=r(1542),o=r(906),l=r(9461),c=r(4942),u=r(5870),i="TABLE/CHANGE_DATES",s="TABLE/SAVE_TABLE_DATA",f="SALARY/SAVE_SALARY_DATA",m="SALARY/SAVE_TOTAL_SUM",b="MODAL/SHOW_SAVE_MODAL",y="MODAL/HIDE_SAVE_MODAL",p="MODAL/DISABLE_MODAL_BTN",v="MODAL/ENABLE_MODAL_BTN",d="DATE/SAVE_DATE";function O(){return{type:y}}var h=r(2926),E={PLAN:12,WEEKEND_PLAN:35,PLAN_COEF:{10:1,20:1.65,30:2.7,60:4.5,720:7.5},BONUS:{10:60,20:85,30:162,60:245,720:400},WEEKEND_BONUS:{10:55,20:65,30:148.5,60:180,720:300},RATE:1300},g={Dasha:"Даша",Nastya:"Настя",Oleg:"Олег"};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.table.date})),r=t.fromDate,a=t.toDate,o=(0,l.v9)((function(e){return e.table.data})),c=(0,l.v9)((function(e){return e.salary})),u=(0,l.v9)((function(e){return e.date})),i=u.year,s=u.month;return n.createElement("div",{className:"modal"},n.createElement("input",{type:"month",name:"month",className:"modal__month",defaultValue:"".concat(i,"-").concat(s)}),n.createElement("button",{className:"modal__btn btn",onClick:function(){var t=_(document.querySelector(".modal__month").value.split("-"),2),n=t[0],l=t[1];e({type:d,payload:{year:n,month:l}});var u="";o.forEach((function(e){u+=function(e,t,r){var n=e.date,a=e.workerName,o=e.weekend,l=e.tickets,c=e.plan,u=e.planComplete,i=e.bonus;return"/------------".concat(n,".").concat(t,".").concat(r,"------------/\n").concat(o?"Выходной день.":"Будний день.","\nНа смене ").concat(g[a],".\n").concat(u?"План выполнен.":"План не выполнен.","\nСделано билетов: ").concat(c,".\nИз них:\n    10 - ").concat(l[10],",\n    20 - ").concat(l[20],",\n    30 - ").concat(l[30],",\n    60 - ").concat(l[60],",\n    720 - ").concat(l[720],".\nБонус составил: ").concat(i," рублей.\n/-----------------------------------/\n")}(e,l,n)})),u+=function(e){var t="";return Object.entries(g).forEach((function(r){var n=w(r,2),a=n[0],o=n[1];if(e.data[a]){var l=e.data[a],c=l.rate,u=l.bonus;t+="\nЗа расчетный период ".concat(o," заработала ").concat(c+u,".\nИз них ставка - ").concat(c," рублей, бонус - ").concat(u," рублей.\n----\n")}})),"/------------ИТОГО------------/\n".concat(t,"\nОбщие затраты на зарплаты: ").concat(e.total," рублей.\n")}(c);var i=new Blob([u],{type:"text/plain;charset=utf-8"});(0,h.saveAs)(i,"Зарплата ".concat(r,"-").concat(a,".").concat(l,".").concat(n," .txt")),e(O())}},"ОК"),n.createElement("button",{className:"modal__btn btn",onClick:function(){return e(O())}},"Назад"))},S=function(e){var t=e.name,r=e.rate,a=e.bonus;return n.createElement("div",{className:"workerCard card"},n.createElement("div",{className:"card__name"},t),n.createElement("div",{className:"card__rate"},"Cтавка: ",r),n.createElement("div",{className:"card__bonus"},"Бонусы: ",a),n.createElement("div",{className:"card__total"},"Всего: ",n.createElement("span",null,r+a)))};function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=e.salaryData;return Object.entries(g).map((function(e){var r=D(e,2),a=r[0],o=r[1];if(t[a])return n.createElement(S,{key:"workerSalary/".concat(a),name:o,rate:t[a].rate,bonus:t[a].bonus})}))},C=function(){var e=[];return document.querySelectorAll(".table__row").forEach((function(t){var r,n=t.querySelectorAll("td");if(n.length>0){var a=(r={date:"",workerName:"",weekend:!1,tickets:{10:0,20:0,30:0,60:0,720:0},plan:0,planComplete:!1,bonus:0},n.forEach((function(e,t){switch(t){case 0:r.date=Number(e.querySelector("input").value);break;case 1:r.workerName=e.querySelector("select").value;break;case 2:r.weekend=e.querySelector("input").checked;break;case 3:r.tickets[10]=Number(e.querySelector("input").value);break;case 4:r.tickets[20]=Number(e.querySelector("input").value);break;case 5:r.tickets[30]=Number(e.querySelector("input").value);break;case 6:r.tickets[60]=Number(e.querySelector("input").value);break;case 7:r.tickets[720]=Number(e.querySelector("input").value)}})),r),o=a.weekend,l=a.tickets;if(function(e){var t=!1;for(var r in e)""!==e[r]&&(t=!0);return t}(l)){a.plan=function(e){var t=E.PLAN_COEF,r=0;for(var n in e)r+=e[n]*t[n];return Number(r.toFixed(2))}(l);var c=n[8].querySelector("input");c.value=a.plan,a.planComplete=function(e,t){return!!(t&&e>=E.WEEKEND_PLAN)||!t&&e>=E.PLAN}(a.plan,o),a.planComplete?(a.bonus=function(e,t){var r=t?E.WEEKEND_BONUS:E.BONUS,n=0;for(var a in e)n+=e[a]*r[a];return n}(l,o),c.style.backgroundColor="#b6ff88"):c.style.backgroundColor="#ff8888",e.push(a)}}})),e},L=function(){var e=(0,l.I0)();return n.createElement("button",{className:"calculateBtn btn",onClick:function(){var t=C();e(function(e){return{type:s,payload:e}}(t));var r=function(e){var t=E.RATE,r={};return e.forEach((function(e){var n=e.workerName,a=e.bonus;r[n]||(r[n]={rate:0,bonus:0}),r[n].rate+=t,r[n].bonus+=a})),r}(t);e(function(e){return{type:f,payload:e}}(r));var n=0;for(var a in r)n+=r[a].rate+r[a].bonus;e(function(e){return{type:m,payload:e}}(n)),e({type:v})}},"Рассчитать")},x=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.modal.btnDisable}));return n.createElement("button",{className:"saveBtn btn",onClick:function(){e({type:b})},disabled:t},"Сохранить")},I=function(){var e=(0,l.v9)((function(e){return e.salary.data})),t=(0,l.v9)((function(e){return e.salary.total}));return n.createElement("div",null,n.createElement(L,null),n.createElement(x,null),e&&n.createElement(k,{salaryData:e}),t&&n.createElement("div",{className:"totalSalary"},"Общая сумма: ",n.createElement("span",null,t)))},T=function(){return n.createElement("tr",{className:"table__row"},n.createElement("th",{className:"table__cell"},"День"),n.createElement("th",{className:"table__cell"},"Имя работника"),n.createElement("th",{className:"table__cell"},"Выходной?"),n.createElement("th",{className:"table__cell"},"10 мин"),n.createElement("th",{className:"table__cell"},"20 мин"),n.createElement("th",{className:"table__cell"},"30 мин"),n.createElement("th",{className:"table__cell"},"60 мин"),n.createElement("th",{className:"table__cell"},"720 мин"),n.createElement("th",{className:"table__cell"},"план"))};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var V=function(){return n.createElement("select",{name:"workerName",id:"workerName",className:"workerSelect"},Object.entries(g).map((function(e){var t=B(e,2),r=t[0],a=t[1];return n.createElement("option",{key:"worker/".concat(r),value:r},a)})))},q=function(e){var t=e.rowNumber,r=function(e){e.target.select()};return n.createElement("tr",{className:"table__row"},n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"number",defaultValue:t,disabled:!0})),n.createElement("td",{className:"table__cell"},n.createElement(V,null)),n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"checkbox",name:"weekend"})),n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"text",name:"min10",defaultValue:"",onFocus:r})),n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"text",name:"min20",defaultValue:"",onFocus:r})),n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"text",name:"min30",defaultValue:"",onFocus:r})),n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"text",name:"min60",defaultValue:"",onFocus:r})),n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"text",name:"min720",defaultValue:"",onFocus:r})),n.createElement("td",{className:"table__cell"},n.createElement("input",{type:"text",name:"plan",defaultValue:"",disabled:!0})))},U=function(){var e=(0,l.v9)((function(e){return e.table.date})),t=e.fromDate,r=e.toDate,a=[];try{if(t>0&&r>0&&t<=r)for(var o=t;o<=r;o++)a.push(n.createElement(q,{key:"tableRow/Day:".concat(o),rowNumber:o}))}catch(e){return console.error(e),void console.error("Некорректные данные")}return n.createElement("table",{className:"table"},n.createElement("thead",null,n.createElement(T,null)),n.createElement("tbody",null,a))};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],l=!0,c=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.table.date})),r=$((0,n.useState)(t),2),a=r[0],o=r[1],c=function(e){e.persist(),o((function(t){return R(R({},t),W({},e.target.name,Number(e.target.value)))}))};return n.createElement("div",{className:"tableCreator"},n.createElement("label",null,"С",n.createElement("input",{type:"text",name:"fromDate",className:"fromDate",onChange:c,value:a.fromDate})),n.createElement("label",null,"По",n.createElement("input",{type:"text",name:"toDate",className:"toDate",onChange:c,value:a.toDate})),n.createElement("button",{className:"tableBtn btn",onClick:function(){return e({type:i,payload:a})}},"Начертить таблицу"))};const H=function(){var e=(0,l.v9)((function(e){return e.modal.visibility}));return n.createElement("div",{className:"container"},n.createElement(Y,null),n.createElement(U,null),n.createElement(I,null),e&&n.createElement(N,null))};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J={date:{fromDate:1,toDate:1},data:{}};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te={data:null,total:null};function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oe={visibility:!1,btnDisable:!0};function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={year:(new Date).toLocaleDateString().split(".")[2],month:(new Date).toLocaleDateString().split(".")[1]},se=(0,o.UY)({table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return G(G({},e),{},{data:t.payload});case i:return G(G({},e),{},{date:t.payload});default:return e}},salary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return X(X({},e),{},{data:t.payload});case m:return X(X({},e),{},{total:t.payload});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return ne(ne({},e),{},{btnDisable:!0});case v:return ne(ne({},e),{},{btnDisable:!1});case b:return ne(ne({},e),{},{visibility:!0});case y:return ne(ne({},e),{},{visibility:!1});default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return ce(ce({},e),t.payload);default:return e}}}),fe=(0,o.MT)(se,(0,c.Uo)((0,o.md)(u.Z)));(0,a.render)(n.createElement(n.StrictMode,null,n.createElement(l.zt,{store:fe},n.createElement(H,null))),document.getElementById("root"))}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var l=1/0;for(i=0;i<e.length;i++){for(var[r,a,o]=e[i],c=!0,u=0;u<r.length;u++)(!1&o||l>=o)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(c=!1,o<l&&(l=o));c&&(e.splice(i--,1),t=a())}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[r,a,o]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[l,c,u]=r,i=0;for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(u)var s=u(n);for(t&&t(r);i<l.length;i++)o=l[i],n.o(e,o)&&e[o]&&e[o][0](),e[l[i]]=0;return n.O(s)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[689],(()=>n(1202)));var a=n.O(void 0,[689],(()=>n(4870)));a=n.O(a)})();